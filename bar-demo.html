<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>ECharts</title>
	<!-- 引入刚刚下载的 ECharts 文件 -->
	<script src="echarts/echarts.js"></script>
</head>

<body>
	<!-- 为 ECharts 准备一个定义了宽高的 DOM -->
	<div id="main" style="width: 600px;height:400px;"></div>
	<div id="main2" style="width: 600px;height:400px;"></div>
	<div id="main3" style="width: 600px;height:400px;"></div>
	<div id="main4" style="width: 600px;height:400px;"></div>
	<script type="text/javascript">
		const chart1 = () => {
			// 基于准备好的dom，初始化echarts实例
			var myChart = echarts.init(document.getElementById('main'), 'dark');
			// 指定图表的配置项和数据
			var option = {
				title: {
					text: 'ECharts 入门示例'
				},
				tooltip: {},
				legend: {
					data: ['销量']
				},
				xAxis: {
					name: '物品',
					data: ['衬衫', '羊毛衫', '雪纺衫', '裤子', '高跟鞋', '袜子']
				},
				yAxis: {},
				series: [
					{
						name: '销量',
						type: 'bar',
						data: [5, 20, 36, 10, 10, 20]
					}
				]
			};
			// 使用刚指定的配置项和数据显示图表。
			myChart.setOption(option);
		}
		const chart2 = () => {
			var myChart2 = echarts.init(document.getElementById('main2'));
			// 指定图表的配置项和数据
			option2 = {
				legend: {},
				tooltip: {},
				dataset: {
					// 提供一份数据。
					source: [
						['product', '2015', '2016', '2017'],
						['Matcha Latte', 43.3, 85.8, 93.7],
						['Milk Tea', 83.1, 73.4, 55.1],
						['Cheese Cocoa', 86.4, 65.2, 82.5],
						['Walnut Brownie', 72.4, 53.9, 39.1]
					]
				},
				// 声明一个 X 轴，类目轴（category）。默认情况下，类目轴对应到 dataset 第一列。
				xAxis: { type: 'category' },
				// 声明一个 Y 轴，数值轴。
				yAxis: {},
				// 声明多个 bar 系列，默认情况下，每个系列会自动对应到 dataset 的每一列。
				series: [{ type: 'bar' }, { type: 'bar' }, { type: 'bar' },]
			};
			// 使用刚指定的配置项和数据显示图表。
			myChart2.setOption(option2);
		}
		const chart3 = () => {
			var myChart3 = echarts.init(document.getElementById('main3'));
			option3 = {
				legend: {},
				tooltip: {},
				dataset: {
					source: [
						['product', '2012', '2013', '2014', '2015'],
						['Matcha Latte', 41.1, 30.4, 65.1, 53.3],
						['Milk Tea', 86.5, 92.1, 85.7, 83.1],
						['Cheese Cocoa', 24.1, 67.2, 79.5, 86.4]
					]
				},
				xAxis: [
					{
						type: 'category', gridIndex: 0,
					},
					{ type: 'category', gridIndex: 1 },
				],
				yAxis: [{ gridIndex: 0 }, { gridIndex: 1 }],
				grid: [{ bottom: '55%' }, { top: '55%' }],
				series: [
					// 这几个系列会出现在第一个直角坐标系中，每个系列对应到 dataset 的每一行。
					{ type: 'bar', seriesLayoutBy: 'row' },
					{ type: 'bar', seriesLayoutBy: 'row' },
					{ type: 'bar', seriesLayoutBy: 'row' },
					// 这几个系列会出现在第二个直角坐标系中，每个系列对应到 dataset 的每一列。
					{ type: 'bar', xAxisIndex: 1, yAxisIndex: 1 },
					{ type: 'bar', xAxisIndex: 1, yAxisIndex: 1 },
					{ type: 'bar', xAxisIndex: 1, yAxisIndex: 1 },
					{ type: 'bar', xAxisIndex: 1, yAxisIndex: 1 }
				]
			};
			// 使用刚指定的配置项和数据显示图表。
			myChart3.setOption(option3);
		}
		const chart4 = () => {
			var myChart4 = echarts.init(document.getElementById('main4'));
			var data = [];
			for (let i = 0; i < 5; ++i) {
				data.push(Math.round(Math.random() * 200));
			}

			option4 = {
				xAxis: {
					max: 'dataMax'
				},
				yAxis: {
					type: 'category',
					data: ['A', 'B', 'C', 'D', 'E'],
					inverse: true,
					animationDuration: 300,
					animationDurationUpdate: 300,
					max: 2 // only the largest 3 bars will be displayed
				},
				series: [
					{
						realtimeSort: true,
						name: 'X',
						type: 'bar',
						data: data,
						label: {
							show: true,
							position: 'right',
							valueAnimation: true
						}
					}
				],
				legend: {
					show: true
				},
				animationDuration: 3000,
				animationDurationUpdate: 3000,
				animationEasing: 'linear',
				animationEasingUpdate: 'linear'
			};

			function update() {
				var data = option4.series[0].data;
				for (var i = 0; i < data.length; ++i) {
					if (Math.random() > 0.9) {
						data[i] += Math.round(Math.random() * 2000);
					} else {
						data[i] += Math.round(Math.random() * 200);
					}
				}
				myChart4.setOption(option4);
			}

			setInterval(function () {
				update();
			}, 3000);
		}
		chart1()
		chart2()
		chart3()
		chart4()
	</script>
</body>

</html>